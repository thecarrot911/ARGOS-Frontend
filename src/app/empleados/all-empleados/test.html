<div
      class="lg:my-4 container mx-auto flex flex-col md:flex-row items-start md:items-center justify-between pb-2 border-b border-gray-300 p-8">
      <div>
            <h4 class="text-2xl font-bold leading-tight text-gray-800 dark:text-gray-500">Lista de Empleados</h4>
            <ul
                  class="flex flex-col md:flex-row items-start md:items-center text-gray-600 dark:text-gray-400 text-sm mt-3">
                  <li class="flex items-center mr-4 mt-4 md:mt-0">
                        <div class="mr-1">
                              <svg class="icon icon-tabler icon-tabler-trending-up" width="16" height="16" fill="none"
                                    viewBox="0 0 24 24" strokeWidth={1.5} stroke="currentColor" className="w-6 h-6">
                                    <path strokeLinecap="round" strokeLinejoin="round"
                                          d="M2.25 12l8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25" />
                              </svg>

                        </div>
                        <span class="hover:text-black text-bold">ARIACA</span>
                  </li>
                  <li class="flex items-center mt-4 md:mt-0">
                        <div class="mr-1">
                              <svg xmlns="http://www.w3.org/2000/svg"
                                    class="icon icon-tabler icon-tabler-plane-departure" width="16" height="16"
                                    viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none"
                                    stroke-linecap="round" stroke-linejoin="round">
                                    <path stroke="none" d="M0 0h24v24H0z" />
                                    <path d="M15 12h5a2 2 0 0 1 0 4h-15l-3 -6h3l2 2h3l-2 -7h3z"
                                          transform="rotate(-15 12 12) translate(0 -1)" />
                                    <line x1="3" y1="21" x2="21" y2="21" />
                              </svg>
                        </div>
                        <span class="hover:text-black text-bold">Hoy d√≠a es: {{today_is_chile}}</span>
                  </li>
            </ul>
      </div>
      <div class="mt-3 md:mt-0">
            <div class="flex justify-between gap-x-4 items-center">
                  <button class="transition focus:outline-none duration-150 ease-in-out hover:bg-indigo-600 bg-slate-700 rounded
          text-white px-8 py-2 text-sm shadow-lg shadow-cyan-500/50" (click)="mostrarRegistroEmpleado()">
                        <svg class="h-5 w-5 text-white" width="24" height="24" viewBox="0 0 24 24" stroke-width="2"
                              stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
                              <path stroke="none" d="M0 0h24v24H0z" />
                              <circle cx="9" cy="7" r="4" />
                              <path d="M3 21v-2a4 4 0 0 1 4 -4h4a4 4 0 0 1 4 4v2" />
                              <path d="M16 11h6m-3 -3v6" />
                        </svg>
                  </button>
            </div>
      </div>
</div>

<ng-container *ngIf="empleadoService.modalCredencialVisible || empleadoService.modalAddEmpleadoVisible
    || empleadoService.modalUpdateEmpleadoVisible || empleadoService.modalUpdateCredencialVisible ">
      <div class="fixed inset-0 bg-gray-800 bg-opacity-70"></div>
</ng-container>

<div class="container mx-auto m-5 p-8">
      <div class="overflow-x-auto shadow-md sm:rounded-lg">
            <table class="w-full text-sm text-left text-gray-500 dark:text-gray-400">
                  <thead class="text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400">
                        <tr>
                              <th scope="col" class="px-6 py-3 text-center">
                                    Empleado
                              </th>
                              <th scope="col" class="px-6 py-3 text-center">
                                    RUT
                              </th>
                              <th scope="col" class="px-6 py-3 text-center">
                                    VER CREDENCIAL
                              </th>
                              <th scope="col" class="px-6 py-3 text-center">
                                    MODIFICAR EMPLEADO
                              </th>
                              <th scope="col" class="px-6 py-3 text-center">
                                    ELIMINAR EMPLEADO
                              </th>
                        </tr>
                  </thead>
                  <tbody>
                        <ng-container *ngFor="let empleado of listaEmpleados">
                              <tr class="bg-white border-b dark:bg-gray-800 dark:border-gray-700">
                                    <td scope="row"
                                          class="px-6 py-2 font-medium text-gray-900 whitespace-nowrap dark:text-white gap-x-6 ">
                                          <div class="flex justify-center">
                                                <button class="border border-indigo-500 w-full"
                                                      (click)="VerPerfil(empleado.rut)">
                                                      <div class="flex items-center space-x-4">
                                                            <div
                                                                  class="w-10 h-10 rounded-full overflow-hidden flex-shrink-0 flex justify-center items-center">
                                                                  <img [src]="empleado.imagen"
                                                                        class="w-10 h-10 object-cover object-center">
                                                            </div>
                                                            <div class="flex-grow">
                                                                  <div
                                                                        class="text-sm font-medium text-gray-900 dark:text-white">
                                                                        {{empleado.nombre_paterno }}
                                                                        {{empleado.apellido_paterno}}</div>
                                                                  <div class="text-sm text-gray-500">
                                                                        {{empleado.nombre_materno }}
                                                                        {{empleado.apellido_materno}}</div>
                                                            </div>
                                                      </div>
                                                </button>
                                          </div>
                                    </td>
                                    <td class="px-6 py-2 text-center">
                                          <div
                                                class="text-sm font-medium text-gray-900 dark:text-white whitespace-nowrap">
                                                {{empleado.rut}}</div>
                                    </td>
                                    <td class="px-6 py-2 whitespace-nowrap text-sm text-gray-500">
                                          <div class="flex justify-center">
                                                <button type="button"
                                                      (click)="mostrarCredencial(empleado.credencial, empleado.rut)"
                                                      class="text-gray-900 bg-white hover:bg-gray-100 focus:ring-4 focus:outline-none 
                                        focus:ring-gray-100 font-medium rounded-lg text-sm px-5 py-2.5 text-center inline-flex items-center dark:focus:ring-gray-600 
                                        dark:bg-gray-800 dark:border-gray-700 dark:text-white dark:hover:bg-gray-700"
                                                      style="position: relative;">
                                                      <div class="flex flex-row gap-x-2 mx-auto">
                                                            <svg class="h-5 w-5 text-green-500" viewBox="0 0 24 24"
                                                                  fill="none" stroke="currentColor" stroke-width="2"
                                                                  stroke-linecap="round" stroke-linejoin="round">
                                                                  <rect x="1" y="4" width="22" height="16" rx="2"
                                                                        ry="2" />
                                                                  <line x1="1" y1="10" x2="23" y2="10" />
                                                            </svg>
                                                            <span class="align-middle">Credenciales</span>
                                                            <ng-container
                                                                  *ngFor="let credencial of empleado.credencial">
                                                                  <ng-container *ngIf="credencial.vence">
                                                                        <span
                                                                              class="absolute top-0 right-0 -mt-1 -mr-1 flex h-3 w-3">
                                                                              <span
                                                                                    class="animate-ping absolute inline-flex h-full w-full rounded-full bg-red-400 opacity-75"></span>
                                                                              <span
                                                                                    class="relative inline-flex rounded-full h-3 w-3 bg-red-500"></span>
                                                                        </span>
                                                                  </ng-container>
                                                            </ng-container>
                                                      </div>
                                                </button>
                                          </div>
                                    </td>
                                    <td class="px-6 py-2 whitespace-nowrap text-sm text-gray-500">
                                          <div class="flex justify-center">
                                                <button type="button" (click)="mostrarModalModificarEmpleado(empleado)"
                                                      class="text-gray-900 bg-white hover:bg-gray-100 focus:ring-4 focus:outline-none 
                                    focus:ring-gray-100 font-medium rounded-lg text-sm px-5 py-2.5 text-center inline-flex items-center dark:focus:ring-gray-600 
                                    dark:bg-gray-800 dark:border-gray-700 dark:text-white dark:hover:bg-gray-700">
                                                      <div class="flex flex-row gap-x-2 mx-auto">
                                                            <svg class="h-5 w-5 text-yellow-500" width="24" height="24"
                                                                  viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"
                                                                  fill="none" stroke="currentColor" stroke-width="2"
                                                                  stroke-linecap="round" stroke-linejoin="round">
                                                                  <path
                                                                        d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7" />
                                                                  <path
                                                                        d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z" />
                                                            </svg>
                                                            <span>Modificar</span>
                                                      </div>
                                                </button>
                                          </div>
                                    </td>
                                    <td class="px-6 py-2 whitespace-nowrap text-sm text-gray-500">
                                          <div class="flex justify-center">
                                                <button type="button" (click)="borrarEmpleado(empleado)"
                                                      class="text-gray-900 bg-white hover:bg-gray-100 focus:ring-4 focus:outline-none focus:ring-gray-100 font-medium rounded-lg text-sm px-5 py-2.5 text-center inline-flex items-center justify-center dark:focus:ring-gray-600 dark:bg-gray-800 dark:border-gray-700 dark:text-white dark:hover:bg-gray-700">
                                                      <div class="flex flex-row gap-x-2 mx-auto">
                                                            <svg class="h-5 w-5 text-red-500" viewBox="0 0 24 24"
                                                                  fill="none" stroke="currentColor" stroke-width="2"
                                                                  stroke-linecap="round" stroke-linejoin="round">
                                                                  <polyline points="3 6 5 6 21 6" />
                                                                  <path
                                                                        d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2" />
                                                                  <line x1="10" y1="11" x2="10" y2="17" />
                                                                  <line x1="14" y1="11" x2="14" y2="17" />
                                                            </svg>
                                                            <span>Eliminar</span>
                                                      </div>
                                                </button>
                                          </div>
                                    </td>
                              </tr>
                        </ng-container>
                  </tbody>
            </table>
      </div>
</div>

<!-- ACTUALIZAR EMPLEADO  -->
<ng-container *ngIf="empleadoService.modalUpdateEmpleadoVisible">
      <app-update-empleado [updateEmpleado]="modificarEmpleado" (recargaEmpleadoPagina)="ngOnInit()">
      </app-update-empleado>
</ng-container>

<!-- REGISTRAR EMPLEADO  -->
<ng-container *ngIf="empleadoService.modalAddEmpleadoVisible">
      <app-registrar-empleado (recargaPaginaEmpleado)="ngOnInit()">
      </app-registrar-empleado>
</ng-container>



<!-- MOSTRAR CREDENCIALES -->
<ng-container *ngIf="empleadoService.modalCredencialVisible">
      <app-credencial *appCredencial="credencialEmpleado" [empleadoCredencial]="credencialEmpleado"
            [cantidadCredenciales]="credencialEmpleado.length" [rutEmpleado]="rutEmpleadoSelecionado"
            (recargarCredencial)="ngOnInit()" (reload)="ngOnInit()">
      </app-credencial>
</ng-container>